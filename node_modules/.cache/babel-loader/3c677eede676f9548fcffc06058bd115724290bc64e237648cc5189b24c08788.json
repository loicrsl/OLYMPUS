{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ispii\\\\Desktop\\\\DESIGN PACK LOIC\\\\WEBSITE\\\\Olympus_Project_Structure_V2\\\\src\\\\components\\\\FramedGallerySlider.jsx\",\n  _s = $RefreshSig$();\n// FramedGallerySlider.jsx - Version optimisée niveau Awwwards\n// Ce composant maintient la vision sacrée tout en résolvant les problèmes techniques\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport './FramedGallerySlider.css'; // Renommé pour correspondre au fichier\nimport Parallax from './Parallax';\nimport { playClickSound } from '../utils/audioManager';\n\n// Frame & Mask\nimport frameSquare from '../assets/frames/frame-square.png';\nimport frameSquareMask from '../assets/frames/frame-square-mask.png';\n\n/* FramedGallerySlider - Galerie niveau Awwwards\r\n   => Artwork mis en avant dans un cadre baroque avec effet glow\r\n   => Plaque pour titre, artiste, date, description\r\n   => Modale pour détails supplémentaires\r\n   => Animations fluides, préchargement, swipe, etc.\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FramedGallerySlider = ({\n  isLightMode\n}) => {\n  _s();\n  /********************************************\r\n   * States\r\n   ********************************************/\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [artworks, setArtworks] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [imagesLoaded, setImagesLoaded] = useState(false);\n  const [loadedCount, setLoadedCount] = useState(0);\n\n  // Références pour navigation tactile et focus\n  const galleryRef = useRef(null);\n  const touchStartX = useRef(0);\n  const touchEndX = useRef(0);\n\n  // État pour les animations\n  const [direction, setDirection] = useState(0); // -1: gauche, 1: droite\n\n  /********************************************\r\n   * Préchargement des images - Anti-flash\r\n   ********************************************/\n  const preloadImages = images => {\n    let loadedImages = 0;\n    const totalImages = images.length;\n    images.forEach(artwork => {\n      const img = new Image();\n      img.src = artwork.image;\n      img.onload = () => {\n        loadedImages++;\n        setLoadedCount(loadedImages);\n        if (loadedImages === totalImages) {\n          setImagesLoaded(true);\n        }\n      };\n      img.onerror = () => {\n        loadedImages++;\n        setLoadedCount(loadedImages);\n        if (loadedImages === totalImages) {\n          setImagesLoaded(true);\n        }\n      };\n    });\n  };\n\n  /********************************************\r\n   * Chargement des œuvres avec WebP optimisé\r\n   ********************************************/\n  useEffect(() => {\n    const brigliaArtworks = [{\n      id: 1,\n      title: \"Artwork 1\",\n      artist: \"77Briglia\",\n      year: \"2023\",\n      description: \"Première création Behance pour la galerie Olympus. Une œuvre contemplative qui invite à la méditation sur notre place dans l'univers sacré de l'art.\",\n      image: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/9aef2a105305975.643a08df037b7.png\",\n      webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/9aef2a105305975.643a08df037b7.webp\",\n      // Version WebP si disponible\n      location: \"Paris, France\"\n    }, {\n      id: 2,\n      title: \"Artwork 2\",\n      artist: \"77Briglia\",\n      year: \"2023\",\n      description: \"Deuxième visuel inspiration mode & design. Une expression visuelle de l'équilibre entre tradition sacrée et modernité dans le contexte de la haute couture contemporaine.\",\n      image: \"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/3a336f119958217.67b2bea8c64bf.jpg\",\n      webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/3a336f119958217.67b2bea8c64bf.webp\",\n      // Version WebP si disponible\n      location: \"London, UK\"\n    }, {\n      id: 3,\n      title: \"Artwork 3\",\n      artist: \"77Briglia\",\n      year: \"2023\",\n      description: \"Troisième visuel, inspirations street/néon. Une réinterprétation de l'esthétique urbaine à travers le prisme des codes sacrés, comme un temple moderne baigné de lumière artificielle.\",\n      image: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/d83245168424297.643a10cb25ee5.jpg\",\n      webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/d83245168424297.643a10cb25ee5.webp\",\n      // Version WebP si disponible\n      location: \"NYC, USA\"\n    }];\n    setArtworks(brigliaArtworks);\n    preloadImages(brigliaArtworks);\n  }, []);\n\n  /********************************************\r\n   * Fonctions modale optimisée avec scroll lock\r\n   ********************************************/\n  const handleOpenModal = () => {\n    playClickSound();\n    setIsModalOpen(true);\n    document.body.style.overflow = 'hidden';\n    document.body.style.touchAction = 'none'; // Pour mobile\n  };\n  const handleCloseModal = () => {\n    playClickSound();\n    setIsModalOpen(false);\n    document.body.style.overflow = '';\n    document.body.style.touchAction = '';\n  };\n\n  /********************************************\r\n   * Navigation Carrousel améliorée\r\n   ********************************************/\n  const goToPrevious = () => {\n    playClickSound();\n    setDirection(-1);\n    setCurrentIndex(prevIndex => prevIndex === 0 ? artworks.length - 1 : prevIndex - 1);\n  };\n  const goToNext = () => {\n    playClickSound();\n    setDirection(1);\n    setCurrentIndex(prevIndex => prevIndex === artworks.length - 1 ? 0 : prevIndex + 1);\n  };\n\n  // Contrôles touches clavier\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'ArrowLeft') {\n        goToPrevious();\n      } else if (e.key === 'ArrowRight') {\n        goToNext();\n      } else if (e.key === 'Escape' && isModalOpen) {\n        handleCloseModal();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [currentIndex, isModalOpen, artworks.length]);\n\n  // Contrôles tactiles (swipe)\n  useEffect(() => {\n    const handleTouchStart = e => {\n      touchStartX.current = e.changedTouches[0].screenX;\n    };\n    const handleTouchEnd = e => {\n      touchEndX.current = e.changedTouches[0].screenX;\n      handleSwipe();\n    };\n    const handleSwipe = () => {\n      const minSwipeDistance = 50;\n      const swipeDistance = touchStartX.current - touchEndX.current;\n      if (Math.abs(swipeDistance) > minSwipeDistance) {\n        if (swipeDistance > 0) {\n          // Swipe gauche\n          goToNext();\n        } else {\n          // Swipe droite\n          goToPrevious();\n        }\n      }\n    };\n    const element = galleryRef.current;\n    if (element) {\n      element.addEventListener('touchstart', handleTouchStart);\n      element.addEventListener('touchend', handleTouchEnd);\n      return () => {\n        element.removeEventListener('touchstart', handleTouchStart);\n        element.removeEventListener('touchend', handleTouchEnd);\n      };\n    }\n  }, [currentIndex, artworks.length]);\n\n  // Indicateur de chargement stylisé\n  if (!imagesLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery-loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-frame\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-progress\",\n              style: {\n                width: `${loadedCount / artworks.length * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loading-text\",\n            children: [\"Pr\\xE9paration de la galerie... \", Math.round(loadedCount / artworks.length * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Animation variants pour framer-motion\n  const variants = {\n    enter: direction => ({\n      x: direction > 0 ? 1000 : -1000,\n      opacity: 0,\n      scale: 0.9\n    }),\n    center: {\n      x: 0,\n      opacity: 1,\n      scale: 1,\n      transition: {\n        x: {\n          type: \"spring\",\n          stiffness: 300,\n          damping: 30\n        },\n        opacity: {\n          duration: 0.5\n        },\n        scale: {\n          duration: 0.5\n        }\n      }\n    },\n    exit: direction => ({\n      x: direction < 0 ? 1000 : -1000,\n      opacity: 0,\n      scale: 0.9,\n      transition: {\n        x: {\n          type: \"spring\",\n          stiffness: 300,\n          damping: 30\n        },\n        opacity: {\n          duration: 0.5\n        },\n        scale: {\n          duration: 0.5\n        }\n      }\n    })\n  };\n\n  // Artwork courant\n  const currentArtwork = artworks[currentIndex];\n\n  // Support WebP avec fallback\n  const getOptimalImageSource = artwork => {\n    // Vérifie si le navigateur supporte WebP\n    const supportsWebP = (() => {\n      const canvas = document.createElement('canvas');\n      return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    })();\n    return supportsWebP && artwork.webp ? artwork.webp : artwork.image;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `museum-gallery ${isLightMode ? 'light' : 'dark'}`,\n    ref: galleryRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"marble-background\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery-header\",\n      children: /*#__PURE__*/_jsxDEV(Parallax, {\n        offset: -30,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"gallery-title\",\n          children: \"LA GALERIE OLYMPUS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"museum-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"nav-button prev-button\",\n        onClick: goToPrevious,\n        \"aria-label\": \"Image pr\\xE9c\\xE9dente\",\n        children: \"\\u2039\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"artwork-display-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"artwork-display\",\n          children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n            initial: false,\n            custom: direction,\n            mode: \"wait\",\n            children: /*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"artwork-frame\",\n              custom: direction,\n              variants: variants,\n              initial: \"enter\",\n              animate: \"center\",\n              exit: \"exit\",\n              onClick: handleOpenModal,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"frame-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"frame-glow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: frameSquare,\n                  alt: \"Cadre dor\\xE9 Olympus\",\n                  className: \"frame-image\",\n                  loading: \"eager\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getOptimalImageSource(currentArtwork),\n                  alt: currentArtwork.title,\n                  className: \"artwork-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)\n            }, currentArtwork.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"artwork-plaque\",\n          initial: {\n            y: 20,\n            opacity: 0\n          },\n          animate: {\n            y: 0,\n            opacity: 1\n          },\n          transition: {\n            delay: 0.3,\n            duration: 0.5\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plaque-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"artwork-title\",\n              children: currentArtwork.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"artwork-creator\",\n              children: [currentArtwork.artist, \", \", currentArtwork.year]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"artwork-location\",\n              children: currentArtwork.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"info-button\",\n              onClick: handleOpenModal,\n              children: \"Plus d'informations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"nav-button next-button\",\n        onClick: goToNext,\n        \"aria-label\": \"Image suivante\",\n        children: \"\\u203A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery-pagination\",\n      children: artworks.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `pagination-dot ${index === currentIndex ? 'active' : ''}`,\n        onClick: () => {\n          playClickSound();\n          setDirection(index > currentIndex ? 1 : -1);\n          setCurrentIndex(index);\n        },\n        \"aria-label\": `Aller à l'image ${index + 1}`\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isModalOpen && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"artwork-modal-overlay\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        onClick: handleCloseModal,\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"artwork-modal\",\n          initial: {\n            scale: 0.95,\n            opacity: 0\n          },\n          animate: {\n            scale: 1,\n            opacity: 1\n          },\n          exit: {\n            scale: 0.95,\n            opacity: 0\n          },\n          transition: {\n            type: \"spring\",\n            stiffness: 300,\n            damping: 30\n          },\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close-btn\",\n            onClick: handleCloseModal,\n            \"aria-label\": \"Fermer\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-frame\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getOptimalImageSource(currentArtwork),\n              alt: currentArtwork.title,\n              className: \"modal-artwork-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-artwork-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: currentArtwork.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [currentArtwork.artist, \", \", currentArtwork.year]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"modal-artwork-location\",\n              children: currentArtwork.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"modal-artwork-description\",\n              children: currentArtwork.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"decorative-column left-column\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"decorative-column right-column\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(FramedGallerySlider, \"Owm9cPiSdc57sQelTSzVvbG67jw=\");\n_c = FramedGallerySlider;\nexport default FramedGallerySlider;\nvar _c;\n$RefreshReg$(_c, \"FramedGallerySlider\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Parallax","playClickSound","frameSquare","frameSquareMask","jsxDEV","_jsxDEV","FramedGallerySlider","isLightMode","_s","currentIndex","setCurrentIndex","artworks","setArtworks","isModalOpen","setIsModalOpen","imagesLoaded","setImagesLoaded","loadedCount","setLoadedCount","galleryRef","touchStartX","touchEndX","direction","setDirection","preloadImages","images","loadedImages","totalImages","length","forEach","artwork","img","Image","src","image","onload","onerror","brigliaArtworks","id","title","artist","year","description","webp","location","handleOpenModal","document","body","style","overflow","touchAction","handleCloseModal","goToPrevious","prevIndex","goToNext","handleKeyDown","e","key","window","addEventListener","removeEventListener","handleTouchStart","current","changedTouches","screenX","handleTouchEnd","handleSwipe","minSwipeDistance","swipeDistance","Math","abs","element","className","children","width","fileName","_jsxFileName","lineNumber","columnNumber","round","variants","enter","x","opacity","scale","center","transition","type","stiffness","damping","duration","exit","currentArtwork","getOptimalImageSource","supportsWebP","canvas","createElement","toDataURL","indexOf","ref","offset","onClick","initial","custom","mode","div","animate","alt","loading","y","delay","map","_","index","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/ispii/Desktop/DESIGN PACK LOIC/WEBSITE/Olympus_Project_Structure_V2/src/components/FramedGallerySlider.jsx"],"sourcesContent":["// FramedGallerySlider.jsx - Version optimisée niveau Awwwards\r\n// Ce composant maintient la vision sacrée tout en résolvant les problèmes techniques\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport './FramedGallerySlider.css'; // Renommé pour correspondre au fichier\r\nimport Parallax from './Parallax';\r\nimport { playClickSound } from '../utils/audioManager';\r\n\r\n// Frame & Mask\r\nimport frameSquare from '../assets/frames/frame-square.png';\r\nimport frameSquareMask from '../assets/frames/frame-square-mask.png';\r\n\r\n/* FramedGallerySlider - Galerie niveau Awwwards\r\n   => Artwork mis en avant dans un cadre baroque avec effet glow\r\n   => Plaque pour titre, artiste, date, description\r\n   => Modale pour détails supplémentaires\r\n   => Animations fluides, préchargement, swipe, etc.\r\n*/\r\nconst FramedGallerySlider = ({ isLightMode }) => {\r\n  /********************************************\r\n   * States\r\n   ********************************************/\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [artworks, setArtworks] = useState([]);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [imagesLoaded, setImagesLoaded] = useState(false);\r\n  const [loadedCount, setLoadedCount] = useState(0);\r\n  \r\n  // Références pour navigation tactile et focus\r\n  const galleryRef = useRef(null);\r\n  const touchStartX = useRef(0);\r\n  const touchEndX = useRef(0);\r\n  \r\n  // État pour les animations\r\n  const [direction, setDirection] = useState(0); // -1: gauche, 1: droite\r\n  \r\n  /********************************************\r\n   * Préchargement des images - Anti-flash\r\n   ********************************************/\r\n  const preloadImages = (images) => {\r\n    let loadedImages = 0;\r\n    const totalImages = images.length;\r\n    \r\n    images.forEach((artwork) => {\r\n      const img = new Image();\r\n      img.src = artwork.image;\r\n      img.onload = () => {\r\n        loadedImages++;\r\n        setLoadedCount(loadedImages);\r\n        if (loadedImages === totalImages) {\r\n          setImagesLoaded(true);\r\n        }\r\n      };\r\n      img.onerror = () => {\r\n        loadedImages++;\r\n        setLoadedCount(loadedImages);\r\n        if (loadedImages === totalImages) {\r\n          setImagesLoaded(true);\r\n        }\r\n      };\r\n    });\r\n  };\r\n  \r\n  /********************************************\r\n   * Chargement des œuvres avec WebP optimisé\r\n   ********************************************/\r\n  useEffect(() => {\r\n    const brigliaArtworks = [\r\n      {\r\n        id: 1,\r\n        title: \"Artwork 1\",\r\n        artist: \"77Briglia\",\r\n        year: \"2023\",\r\n        description: \"Première création Behance pour la galerie Olympus. Une œuvre contemplative qui invite à la méditation sur notre place dans l'univers sacré de l'art.\",\r\n        image: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/9aef2a105305975.643a08df037b7.png\",\r\n        webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/9aef2a105305975.643a08df037b7.webp\", // Version WebP si disponible\r\n        location: \"Paris, France\"\r\n      },\r\n      {\r\n        id: 2,\r\n        title: \"Artwork 2\",\r\n        artist: \"77Briglia\",\r\n        year: \"2023\",\r\n        description: \"Deuxième visuel inspiration mode & design. Une expression visuelle de l'équilibre entre tradition sacrée et modernité dans le contexte de la haute couture contemporaine.\",\r\n        image: \"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/3a336f119958217.67b2bea8c64bf.jpg\",\r\n        webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/3a336f119958217.67b2bea8c64bf.webp\", // Version WebP si disponible\r\n        location: \"London, UK\"\r\n      },\r\n      {\r\n        id: 3,\r\n        title: \"Artwork 3\",\r\n        artist: \"77Briglia\",\r\n        year: \"2023\",\r\n        description: \"Troisième visuel, inspirations street/néon. Une réinterprétation de l'esthétique urbaine à travers le prisme des codes sacrés, comme un temple moderne baigné de lumière artificielle.\",\r\n        image: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/d83245168424297.643a10cb25ee5.jpg\",\r\n        webp: \"https://mir-s3-cdn-cf.behance.net/project_modules/2800/d83245168424297.643a10cb25ee5.webp\", // Version WebP si disponible\r\n        location: \"NYC, USA\"\r\n      },\r\n    ];\r\n    \r\n    setArtworks(brigliaArtworks);\r\n    preloadImages(brigliaArtworks);\r\n  }, []);\r\n\r\n  /********************************************\r\n   * Fonctions modale optimisée avec scroll lock\r\n   ********************************************/\r\n  const handleOpenModal = () => {\r\n    playClickSound();\r\n    setIsModalOpen(true);\r\n    document.body.style.overflow = 'hidden';\r\n    document.body.style.touchAction = 'none'; // Pour mobile\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    playClickSound();\r\n    setIsModalOpen(false);\r\n    document.body.style.overflow = '';\r\n    document.body.style.touchAction = '';\r\n  };\r\n\r\n  /********************************************\r\n   * Navigation Carrousel améliorée\r\n   ********************************************/\r\n  const goToPrevious = () => {\r\n    playClickSound();\r\n    setDirection(-1);\r\n    setCurrentIndex((prevIndex) => \r\n      prevIndex === 0 ? artworks.length - 1 : prevIndex - 1\r\n    );\r\n  };\r\n\r\n  const goToNext = () => {\r\n    playClickSound();\r\n    setDirection(1);\r\n    setCurrentIndex((prevIndex) => \r\n      prevIndex === artworks.length - 1 ? 0 : prevIndex + 1\r\n    );\r\n  };\r\n  \r\n  // Contrôles touches clavier\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowLeft') {\r\n        goToPrevious();\r\n      } else if (e.key === 'ArrowRight') {\r\n        goToNext();\r\n      } else if (e.key === 'Escape' && isModalOpen) {\r\n        handleCloseModal();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [currentIndex, isModalOpen, artworks.length]);\r\n  \r\n  // Contrôles tactiles (swipe)\r\n  useEffect(() => {\r\n    const handleTouchStart = (e) => {\r\n      touchStartX.current = e.changedTouches[0].screenX;\r\n    };\r\n    \r\n    const handleTouchEnd = (e) => {\r\n      touchEndX.current = e.changedTouches[0].screenX;\r\n      handleSwipe();\r\n    };\r\n    \r\n    const handleSwipe = () => {\r\n      const minSwipeDistance = 50;\r\n      const swipeDistance = touchStartX.current - touchEndX.current;\r\n      \r\n      if (Math.abs(swipeDistance) > minSwipeDistance) {\r\n        if (swipeDistance > 0) {\r\n          // Swipe gauche\r\n          goToNext();\r\n        } else {\r\n          // Swipe droite\r\n          goToPrevious();\r\n        }\r\n      }\r\n    };\r\n    \r\n    const element = galleryRef.current;\r\n    if (element) {\r\n      element.addEventListener('touchstart', handleTouchStart);\r\n      element.addEventListener('touchend', handleTouchEnd);\r\n      \r\n      return () => {\r\n        element.removeEventListener('touchstart', handleTouchStart);\r\n        element.removeEventListener('touchend', handleTouchEnd);\r\n      };\r\n    }\r\n  }, [currentIndex, artworks.length]);\r\n\r\n  // Indicateur de chargement stylisé\r\n  if (!imagesLoaded) {\r\n    return (\r\n      <div className=\"gallery-loading\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-frame\">\r\n            <div className=\"loading-bar\">\r\n              <div \r\n                className=\"loading-progress\" \r\n                style={{ width: `${(loadedCount / artworks.length) * 100}%` }}\r\n              />\r\n            </div>\r\n            <p className=\"loading-text\">Préparation de la galerie... {Math.round((loadedCount / artworks.length) * 100)}%</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Animation variants pour framer-motion\r\n  const variants = {\r\n    enter: (direction) => ({\r\n      x: direction > 0 ? 1000 : -1000,\r\n      opacity: 0,\r\n      scale: 0.9,\r\n    }),\r\n    center: {\r\n      x: 0,\r\n      opacity: 1,\r\n      scale: 1,\r\n      transition: {\r\n        x: { type: \"spring\", stiffness: 300, damping: 30 },\r\n        opacity: { duration: 0.5 },\r\n        scale: { duration: 0.5 }\r\n      }\r\n    },\r\n    exit: (direction) => ({\r\n      x: direction < 0 ? 1000 : -1000,\r\n      opacity: 0,\r\n      scale: 0.9,\r\n      transition: {\r\n        x: { type: \"spring\", stiffness: 300, damping: 30 },\r\n        opacity: { duration: 0.5 },\r\n        scale: { duration: 0.5 }\r\n      }\r\n    })\r\n  };\r\n\r\n  // Artwork courant\r\n  const currentArtwork = artworks[currentIndex];\r\n\r\n  // Support WebP avec fallback\r\n  const getOptimalImageSource = (artwork) => {\r\n    // Vérifie si le navigateur supporte WebP\r\n    const supportsWebP = (() => {\r\n      const canvas = document.createElement('canvas');\r\n      return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\r\n    })();\r\n    \r\n    return supportsWebP && artwork.webp ? artwork.webp : artwork.image;\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`museum-gallery ${isLightMode ? 'light' : 'dark'}`}\r\n      ref={galleryRef}\r\n    >\r\n      {/* Background marbre => Correction du path */}\r\n      <div className=\"marble-background\" />\r\n\r\n      {/* Titre => Parallax offset */}\r\n      <div className=\"gallery-header\">\r\n        <Parallax offset={-30}>\r\n          <h1 className=\"gallery-title\">LA GALERIE OLYMPUS</h1>\r\n        </Parallax>\r\n      </div>\r\n      \r\n      {/* Carrousel principal optimisé */}\r\n      <div className=\"museum-view\">\r\n        <button \r\n          className=\"nav-button prev-button\" \r\n          onClick={goToPrevious}\r\n          aria-label=\"Image précédente\"\r\n        >\r\n          ‹\r\n        </button>\r\n        \r\n        <div className=\"artwork-display-container\">\r\n          <div className=\"artwork-display\">\r\n            <AnimatePresence initial={false} custom={direction} mode=\"wait\">\r\n              <motion.div\r\n                key={currentArtwork.id}\r\n                className=\"artwork-frame\"\r\n                custom={direction}\r\n                variants={variants}\r\n                initial=\"enter\"\r\n                animate=\"center\"\r\n                exit=\"exit\"\r\n                onClick={handleOpenModal}\r\n              >\r\n                {/* Container 700×700 => objectFit contain */}\r\n                <div className=\"frame-container\">\r\n                  {/* Effet glow subtil autour du cadre */}\r\n                  <div className=\"frame-glow\" />\r\n                  \r\n                  {/* Cadre PNG en superposition */}\r\n                  <img \r\n                    src={frameSquare}\r\n                    alt=\"Cadre doré Olympus\"\r\n                    className=\"frame-image\"\r\n                    loading=\"eager\"\r\n                  />\r\n\r\n                  {/* Artwork masqué, objectFit=contain */}\r\n                  <img\r\n                    src={getOptimalImageSource(currentArtwork)}\r\n                    alt={currentArtwork.title}\r\n                    className=\"artwork-image\"\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n            </AnimatePresence>\r\n          </div>\r\n          \r\n          {/* Plaque d'infos => Animation subtile */}\r\n          <motion.div \r\n            className=\"artwork-plaque\"\r\n            initial={{ y: 20, opacity: 0 }}\r\n            animate={{ y: 0, opacity: 1 }}\r\n            transition={{ delay: 0.3, duration: 0.5 }}\r\n          >\r\n            <div className=\"plaque-content\">\r\n              <h2 className=\"artwork-title\">{currentArtwork.title}</h2>\r\n              <h3 className=\"artwork-creator\">\r\n                {currentArtwork.artist}, {currentArtwork.year}\r\n              </h3>\r\n              <p className=\"artwork-location\">{currentArtwork.location}</p>\r\n              <button className=\"info-button\" onClick={handleOpenModal}>\r\n                Plus d'informations\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n        \r\n        <button \r\n          className=\"nav-button next-button\" \r\n          onClick={goToNext}\r\n          aria-label=\"Image suivante\"\r\n        >\r\n          ›\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Pagination améliorée */}\r\n      <div className=\"gallery-pagination\">\r\n        {artworks.map((_, index) => (\r\n          <button\r\n            key={index}\r\n            className={`pagination-dot ${index === currentIndex ? 'active' : ''}`}\r\n            onClick={() => {\r\n              playClickSound();\r\n              setDirection(index > currentIndex ? 1 : -1);\r\n              setCurrentIndex(index);\r\n            }}\r\n            aria-label={`Aller à l'image ${index + 1}`}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Modal optimisée */}\r\n      <AnimatePresence>\r\n        {isModalOpen && (\r\n          <motion.div \r\n            className=\"artwork-modal-overlay\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={handleCloseModal}\r\n          >\r\n            <motion.div \r\n              className=\"artwork-modal\"\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <button className=\"modal-close-btn\" onClick={handleCloseModal} aria-label=\"Fermer\">×</button>\r\n              <div className=\"modal-frame\">\r\n                <img \r\n                  src={getOptimalImageSource(currentArtwork)} \r\n                  alt={currentArtwork.title} \r\n                  className=\"modal-artwork-image\"\r\n                />\r\n              </div>\r\n              <div className=\"modal-artwork-info\">\r\n                <h2>{currentArtwork.title}</h2>\r\n                <h3>{currentArtwork.artist}, {currentArtwork.year}</h3>\r\n                <p className=\"modal-artwork-location\">{currentArtwork.location}</p>\r\n                <p className=\"modal-artwork-description\">{currentArtwork.description}</p>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Colonnes décoratives => Animation subtile */}\r\n      <div className=\"decorative-column left-column\"></div>\r\n      <div className=\"decorative-column right-column\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FramedGallerySlider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}